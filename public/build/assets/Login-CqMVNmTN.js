import{d as C,Q as U,r as w,y as B,v as E,z as N,O as P,c as l,b as d,u as t,a as e,B as A,F as f,f as u,s as p,n as v,w as M,am as z,e as m,o as i,d5 as D,d6 as F,h as g,t as k,C as h,E as O}from"./main-d8pmYbS5.js";import{_ as T}from"./Button.vue_vue_type_script_setup_true_lang-CJ0bxQZq.js";import{u as G,r as _,e as I,m as $,a as K}from"./index-COVFxqM0.js";import{G as q}from"./GoogleReCaptchaV3-uP_ow8N3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:v(["p-3 sm:px-8 relative h-screen lg:overflow-hidden bg-primary xl:bg-white dark:bg-darkmode-800 xl:dark:bg-darkmode-600","before:hidden before:xl:block before:content-[''] before:w-[57%] before:-mt-[28%] before:-mb-[16%] before:-ml-[13%] before:absolute before:inset-y-0 before:left-0 before:transform before:rotate-[-4.5deg] before:bg-primary/20 before:rounded-[100%] before:dark:bg-darkmode-400","after:hidden after:xl:block after:content-[''] after:w-[57%] after:-mt-[20%] after:-mb-[13%] after:-ml-[13%] after:absolute after:inset-y-0 after:left-0 after:transform after:rotate-[-4.5deg] after:bg-primary after:rounded-[100%] after:dark:bg-darkmode-700"])},j={class:"container relative z-10 sm:px-10"},H={class:"block grid-cols-2 gap-4 xl:grid"},J={class:"flex-col hidden min-h-screen xl:flex"},W=e("a",{href:"",class:"flex items-center pt-5 -intro-x"},[e("span",{class:"ml-3 text-lg text-white"})],-1),X={class:"my-auto"},Y=["src"],Z=e("div",{class:"mt-10 text-4xl font-medium leading-tight text-white -intro-x"},[m(" Amtgard"),e("br"),m(" Online Record Keeper v4 ")],-1),ee=e("div",{class:"mt-5 text-lg text-white -intro-x text-opacity-70 dark:text-slate-400"}," Live the Dream! ",-1),te={class:"flex h-screen py-5 my-10 xl:h-auto xl:py-0 xl:my-0"},ae={class:"w-full px-5 py-8 mx-auto my-auto bg-white rounded-md shadow-md xl:ml-20 dark:bg-darkmode-600 xl:bg-transparent sm:px-8 xl:p-0 xl:shadow-none sm:w-3/4 lg:w-2/4 xl:w-auto"},se=e("h2",{class:"text-2xl font-bold text-center intro-x xl:text-3xl xl:text-left"}," Sign In ",-1),re={class:"mt-8 intro-x"},oe=e("div",{class:"flex mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},[e("a",{href:"/forgot"},"Forgot Password?")],-1),le={class:"flex items-center mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},ie={style:{display:"inline"}},de=e("div",{class:"mt-10 text-center intro-x xl:mt-24 text-slate-600 dark:text-slate-500 xl:text-left"},[m(" By using this service, you agree to our "),e("a",{class:"text-primary dark:text-slate-200",href:"/legal#terms"}," Terms and Conditions "),m(" & "),e("a",{class:"text-primary dark:text-slate-200",href:"/legal#privacy"}," Privacy Policy ")],-1),pe=C({__name:"Login",setup(ne){const b=U(),V=w(navigator.userAgent),x=B(),L=E();var c=w();const y=N({email:"",device_name:V,password:"",password_confirm:""}),S={email:{required:_,email:I,minLength:$(5),maxLength:K(191)},device_name:{required:_},password:{required:_,minLength:$(6)}},a=G(S,P(y)),R=()=>{if(a.value.$touch(),a.value.$invalid)h(!1,"Please check the form.");else try{O.post("/api/login",y).then(r=>{x.storeState("success",r.data.message);const o=r.data.data.token,s=r.data.data;L.storeLoggedInUser(o,s),s.email_verified_at?b.push("/"):b.push("/verify")}).catch(r=>{x.storeState("error",r.response.data.message),console.log("Error sending login1:",r),h(!1,r.response.data.message)})}catch(r){x.storeState("error",r),console.log("Error sending login:",r),h(!1,r)}};return(r,o)=>(i(),l("div",Q,[d(t(D)),e("div",j,[e("div",H,[e("div",J,[W,e("div",X,[e("img",{alt:"Amtgard Online Record Keeper v4",class:"w-1/2 -mt-16 -intro-x",src:t(F)},null,8,Y),Z,ee])]),e("div",te,[e("div",ae,[e("form",{class:"validate-form",onSubmit:A(R,["prevent"])},[se,e("div",re,[d(t(g),{id:"device_name",modelValue:t(a).device_name.$model,"onUpdate:modelValue":o[0]||(o[0]=s=>t(a).device_name.$model=s),modelModifiers:{trim:!0},type:"hidden",name:"device_name"},null,8,["modelValue"]),t(a).device_name.$error?(i(!0),l(f,{key:0},u(t(a).device_name.$errors,(s,n)=>(i(),l("div",{key:n,class:"mt-2 text-danger"}," Unable to determine device "))),128)):p("",!0),d(t(g),{id:"email",modelValue:t(a).email.$model,"onUpdate:modelValue":o[1]||(o[1]=s=>t(a).email.$model=s),modelModifiers:{trim:!0},type:"text",name:"email",class:v(["block px-4 py-3 intro-x login__input min-w-full xl:min-w-[350px]",{"border-danger":t(a).email.$error}]),placeholder:"Email"},null,8,["modelValue","class"]),t(a).email.$error?(i(!0),l(f,{key:1},u(t(a).email.$errors,(s,n)=>(i(),l("div",{key:n,class:"mt-2 text-danger"},k(s.$message),1))),128)):p("",!0),d(t(g),{id:"password",modelValue:t(a).password.$model,"onUpdate:modelValue":o[2]||(o[2]=s=>t(a).password.$model=s),modelModifiers:{trim:!0},type:"password",name:"password",class:v(["block px-4 py-3 mt-4 intro-x login__input min-w-full xl:min-w-[350px]",{"border-danger":t(a).password.$error}]),placeholder:"Password"},null,8,["modelValue","class"]),t(a).password.$error?(i(!0),l(f,{key:2},u(t(a).password.$errors,(s,n)=>(i(),l("div",{key:n,class:"mt-2 text-danger"},k(s.$message),1))),128)):p("",!0)]),oe,e("div",le,[d(t(T),{variant:"primary",type:"submit",class:"w-full px-4 py-3 align-top xl:w-32 xl:mr-3"},{default:M(()=>[m(" Login ")]),_:1}),e("div",ie,[d(q,{modelValue:t(c),"onUpdate:modelValue":o[3]||(o[3]=s=>z(c)?c.value=s:c=s),ref:"captcha",id:"login_id",inline:"",action:"login",style:{display:"inline"}},null,8,["modelValue"])])]),de],32)])])])])]))}});export{pe as default};
