import{d as U,r as y,m as C,q as N,x as P,b6 as A,c as l,b as d,u as t,a as e,G as B,F as f,f as u,z as p,n as b,w as E,a7 as M,e as m,b8 as z,o as i,b9 as D,ba as F,h as g,t as w,J as h,v as G}from"./main-Ol0gOx4f.js";import{_ as T}from"./Button.vue_vue_type_script_setup_true_lang-73ahc3CJ.js";import{u as q,r as _,e as I,m as k,a as K}from"./index-C3rkOtmA.js";import{G as O}from"./GoogleReCaptchaV3-C0a4Enjg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:b(["p-3 sm:px-8 relative h-screen lg:overflow-hidden bg-primary xl:bg-white dark:bg-darkmode-800 xl:dark:bg-darkmode-600","before:hidden before:xl:block before:content-[''] before:w-[57%] before:-mt-[28%] before:-mb-[16%] before:-ml-[13%] before:absolute before:inset-y-0 before:left-0 before:transform before:rotate-[-4.5deg] before:bg-primary/20 before:rounded-[100%] before:dark:bg-darkmode-400","after:hidden after:xl:block after:content-[''] after:w-[57%] after:-mt-[20%] after:-mb-[13%] after:-ml-[13%] after:absolute after:inset-y-0 after:left-0 after:transform after:rotate-[-4.5deg] after:bg-primary after:rounded-[100%] after:dark:bg-darkmode-700"])},j={class:"container relative z-10 sm:px-10"},H={class:"block grid-cols-2 gap-4 xl:grid"},Q={class:"flex-col hidden min-h-screen xl:flex"},W=e("a",{href:"",class:"flex items-center pt-5 -intro-x"},[e("span",{class:"ml-3 text-lg text-white"})],-1),X={class:"my-auto"},Y=["src"],Z=e("div",{class:"mt-10 text-4xl font-medium leading-tight text-white -intro-x"},[m(" Amtgard"),e("br"),m(" Online Record Keeper v4 ")],-1),ee=e("div",{class:"mt-5 text-lg text-white -intro-x text-opacity-70 dark:text-slate-400"}," Live the Dream! ",-1),te={class:"flex h-screen py-5 my-10 xl:h-auto xl:py-0 xl:my-0"},ae={class:"w-full px-5 py-8 mx-auto my-auto bg-white rounded-md shadow-md xl:ml-20 dark:bg-darkmode-600 xl:bg-transparent sm:px-8 xl:p-0 xl:shadow-none sm:w-3/4 lg:w-2/4 xl:w-auto"},se=e("h2",{class:"text-2xl font-bold text-center intro-x xl:text-3xl xl:text-left"}," Sign In ",-1),re={class:"mt-8 intro-x"},oe=e("div",{class:"flex mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},[e("a",{href:"/forgot"},"Forgot Password?")],-1),le={class:"flex items-center mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},ie={style:{display:"inline"}},de=e("div",{class:"mt-10 text-center intro-x xl:mt-24 text-slate-600 dark:text-slate-500 xl:text-left"},[m(" By using this service, you agree to our "),e("a",{class:"text-primary dark:text-slate-200",href:"/legal#terms"}," Terms and Conditions "),m(" & "),e("a",{class:"text-primary dark:text-slate-200",href:"/legal#privacy"}," Privacy Policy ")],-1),pe=U({__name:"Login",setup(ne){const $=z(),V=y(navigator.userAgent),x=C(),L=N();var c=y();const v=P({email:"",device_name:V,password:"",password_confirm:""}),S={email:{required:_,email:I,minLength:k(5),maxLength:K(191)},device_name:{required:_},password:{required:_,minLength:k(6)}},a=q(S,A(v)),R=()=>{if(a.value.$touch(),a.value.$invalid)h(!1,"Please check the form.");else try{G.post("/api/login",v).then(r=>{x.storeState("success",r.data.message);const o=r.data.data.token,s=r.data.data;L.storeLoggedInUser(o,s),$.push("/")}).catch(r=>{x.storeState("error",r.response.data.message),console.log("Error sending login1:",r),h(!1,r.response.data.message)})}catch(r){x.storeState("error",r),console.log("Error sending login:",r),h(!1,r)}};return(r,o)=>(i(),l("div",J,[d(t(D)),e("div",j,[e("div",H,[e("div",Q,[W,e("div",X,[e("img",{alt:"Amtgard Online Record Keeper v4",class:"w-1/2 -mt-16 -intro-x",src:t(F)},null,8,Y),Z,ee])]),e("div",te,[e("div",ae,[e("form",{class:"validate-form",onSubmit:B(R,["prevent"])},[se,e("div",re,[d(t(g),{id:"device_name",modelValue:t(a).device_name.$model,"onUpdate:modelValue":o[0]||(o[0]=s=>t(a).device_name.$model=s),modelModifiers:{trim:!0},type:"hidden",name:"device_name"},null,8,["modelValue"]),t(a).device_name.$error?(i(!0),l(f,{key:0},u(t(a).device_name.$errors,(s,n)=>(i(),l("div",{key:n,class:"mt-2 text-danger"}," Unable to determine device "))),128)):p("",!0),d(t(g),{id:"email",modelValue:t(a).email.$model,"onUpdate:modelValue":o[1]||(o[1]=s=>t(a).email.$model=s),modelModifiers:{trim:!0},type:"text",name:"email",class:b(["block px-4 py-3 intro-x login__input min-w-full xl:min-w-[350px]",{"border-danger":t(a).email.$error}]),placeholder:"Email"},null,8,["modelValue","class"]),t(a).email.$error?(i(!0),l(f,{key:1},u(t(a).email.$errors,(s,n)=>(i(),l("div",{key:n,class:"mt-2 text-danger"},w(s.$message),1))),128)):p("",!0),d(t(g),{id:"password",modelValue:t(a).password.$model,"onUpdate:modelValue":o[2]||(o[2]=s=>t(a).password.$model=s),modelModifiers:{trim:!0},type:"password",name:"password",class:b(["block px-4 py-3 mt-4 intro-x login__input min-w-full xl:min-w-[350px]",{"border-danger":t(a).password.$error}]),placeholder:"Password"},null,8,["modelValue","class"]),t(a).password.$error?(i(!0),l(f,{key:2},u(t(a).password.$errors,(s,n)=>(i(),l("div",{key:n,class:"mt-2 text-danger"},w(s.$message),1))),128)):p("",!0)]),oe,e("div",le,[d(t(T),{variant:"primary",type:"submit",class:"w-full px-4 py-3 align-top xl:w-32 xl:mr-3"},{default:E(()=>[m(" Login ")]),_:1}),e("div",ie,[d(O,{modelValue:t(c),"onUpdate:modelValue":o[3]||(o[3]=s=>M(c)?c.value=s:c=s),ref:"captcha",id:"login_id",inline:"",action:"login",style:{display:"inline"}},null,8,["modelValue"])])]),de],32)])])])])]))}});export{pe as default};
