import{d as $,b3 as R,b4 as S,r as g,a0 as C,aV as L,c as l,b as i,u as t,a as e,aW as N,F as p,f as _,G as h,n as y,w as U,a_ as A,e as d,b5 as B,o as n,b6 as E,b7 as F,h as b,t as P,b8 as c,b9 as D}from"./main-ClqYpcPr.js";import{_ as G}from"./Button.vue_vue_type_script_setup_true_lang-D2jZ4Lmv.js";import{u as M,r as v,e as T,m as z,a as K}from"./index-BoftJP9_.js";import{G as O}from"./GoogleReCaptchaV3-BCbtvbkq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:y(["p-3 sm:px-8 relative h-screen lg:overflow-hidden bg-primary xl:bg-white dark:bg-darkmode-800 xl:dark:bg-darkmode-600","before:hidden before:xl:block before:content-[''] before:w-[57%] before:-mt-[28%] before:-mb-[16%] before:-ml-[13%] before:absolute before:inset-y-0 before:left-0 before:transform before:rotate-[-4.5deg] before:bg-primary/20 before:rounded-[100%] before:dark:bg-darkmode-400","after:hidden after:xl:block after:content-[''] after:w-[57%] after:-mt-[20%] after:-mb-[13%] after:-ml-[13%] after:absolute after:inset-y-0 after:left-0 after:transform after:rotate-[-4.5deg] after:bg-primary after:rounded-[100%] after:dark:bg-darkmode-700"])},W={class:"container relative z-10 sm:px-10"},j={class:"block grid-cols-2 gap-4 xl:grid"},H={class:"flex-col hidden min-h-screen xl:flex"},I=e("a",{href:"",class:"flex items-center pt-5 -intro-x"},[e("span",{class:"ml-3 text-lg text-white"})],-1),J={class:"my-auto"},Q=["src"],X=e("div",{class:"mt-10 text-4xl font-medium leading-tight text-white -intro-x"},[d(" Amtgard"),e("br"),d(" Online Record Keeper v4 ")],-1),Y=e("div",{class:"mt-5 text-lg text-white -intro-x text-opacity-70 dark:text-slate-400"}," Live the Dream! ",-1),Z={class:"flex h-screen py-5 my-10 xl:h-auto xl:py-0 xl:my-0"},ee={class:"w-full px-5 py-8 mx-auto my-auto bg-white rounded-md shadow-md xl:ml-20 dark:bg-darkmode-600 xl:bg-transparent sm:px-8 xl:p-0 xl:shadow-none sm:w-3/4 lg:w-2/4 xl:w-auto"},te=e("h2",{class:"text-2xl font-bold text-center intro-x xl:text-3xl xl:text-left"}," Forgot Password ",-1),ae={class:"mt-8 intro-x"},se={class:"flex items-center mt-4 text-xs intro-x text-slate-600 dark:text-slate-500 sm:text-sm"},re={style:{display:"inline"}},oe=e("div",{class:"mt-10 text-center intro-x xl:mt-24 text-slate-600 dark:text-slate-500 xl:text-left"},[d(" By using this service, you agree to our "),e("a",{class:"text-primary dark:text-slate-200",href:"/legal#terms"}," Terms and Conditions "),d(" & "),e("a",{class:"text-primary dark:text-slate-200",href:"/legal#privacy"}," Privacy Policy ")],-1),xe=$({__name:"Forgot",setup(le){B();const x=R();S();var m=g();const k=g(navigator.userAgent),u=C({email:"",device_name:k}),w={email:{required:v,email:T,minLength:z(5),maxLength:K(191)},device_name:{required:v}},a=M(w,L(u)),V=()=>{if(a.value.$touch(),a.value.$invalid)c(!1,"Please check the form.");else try{D.post("/api/forgot",u).then(s=>{x.storeState("success",s.data.message),c(!0,s.data.message)}).catch(s=>{x.storeState("error",s.response.data.message),console.log("Error seding login1:",s),c(!1,s.response.data.message)})}catch(s){x.storeState("error",s),console.log("Error seding login:",s),c(!1,s)}};return(s,o)=>(n(),l("div",q,[i(t(E)),e("div",W,[e("div",j,[e("div",H,[I,e("div",J,[e("img",{alt:"Amtgard Online Record Keeper v4",class:"w-1/2 -mt-16 -intro-x",src:t(F)},null,8,Q),X,Y])]),e("div",Z,[e("div",ee,[e("form",{class:"validate-form",onSubmit:N(V,["prevent"])},[te,e("div",ae,[i(t(b),{id:"device_name",modelValue:t(a).device_name.$model,"onUpdate:modelValue":o[0]||(o[0]=r=>t(a).device_name.$model=r),modelModifiers:{trim:!0},type:"hidden",name:"device_name"},null,8,["modelValue"]),t(a).device_name.$error?(n(!0),l(p,{key:0},_(t(a).device_name.$errors,(r,f)=>(n(),l("div",{key:f,class:"mt-2 text-danger"}," Unable to determine device "))),128)):h("",!0),i(t(b),{id:"email",modelValue:t(a).email.$model,"onUpdate:modelValue":o[1]||(o[1]=r=>t(a).email.$model=r),modelModifiers:{trim:!0},type:"text",name:"email",class:y(["block px-4 py-3 intro-x login__input min-w-full xl:min-w-[350px]",{"border-danger":t(a).email.$error}]),placeholder:"Email"},null,8,["modelValue","class"]),t(a).email.$error?(n(!0),l(p,{key:1},_(t(a).email.$errors,(r,f)=>(n(),l("div",{key:f,class:"mt-2 text-danger"},P(r.$message),1))),128)):h("",!0)]),e("div",se,[i(t(G),{variant:"primary",type:"submit",class:"w-full px-4 py-3 align-top xl:w-32 xl:mr-3"},{default:U(()=>[d(" Reset ")]),_:1}),e("div",re,[i(O,{modelValue:t(m),"onUpdate:modelValue":o[2]||(o[2]=r=>A(m)?m.value=r:m=r),ref:"captcha",id:"reset_id",inline:"",action:"reset",style:{display:"inline"}},null,8,["modelValue"])])]),oe],32)])])])])]))}});export{xe as default};
